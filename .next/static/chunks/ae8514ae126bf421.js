(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72178,86536,87316,e=>{"use strict";var a=e.i(43476),t=e.i(50180),r=e.i(75254);let s=(0,r.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),l=(0,r.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var i=e.i(31278);let d=(0,r.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o=(0,r.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),c=(0,r.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>c],86536);let n=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>n],87316);let x=(0,r.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),h=(0,r.default)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),m=(0,r.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var p=e.i(7670),g=e.i(71645),b=e.i(26732),u=e.i(18566);function w(){let{data:e}=(0,b.useSession)(),r=(0,u.useRouter)(),[w,v]=(0,g.useState)([]),[f,y]=(0,g.useState)(!0),[j,N]=(0,g.useState)(null),[k,_]=(0,g.useState)(!1),[S,z]=(0,g.useState)("all"),[A,E]=(0,g.useState)("diameter"),[D,M]=(0,g.useState)(null);(0,g.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/neos");if(!e.ok)throw Error("Failed to fetch NEO data");let a=await e.json(),t=new Date().toISOString().split("T")[0],r=(a.near_earth_objects[t]||[]).map(e=>({id:e.id,name:e.name,date:e.close_approach_data[0].close_approach_date_full,distanceVal:parseFloat(e.close_approach_data[0].miss_distance.kilometers),distance:`${parseFloat(e.close_approach_data[0].miss_distance.kilometers).toLocaleString(void 0,{maximumFractionDigits:0})} km`,velocityVal:parseFloat(e.close_approach_data[0].relative_velocity.kilometers_per_hour),velocity:`${parseFloat(e.close_approach_data[0].relative_velocity.kilometers_per_hour).toLocaleString(void 0,{maximumFractionDigits:0})} km/h`,diameterVal:e.estimated_diameter.meters.estimated_diameter_max,diameter:`${Math.round(e.estimated_diameter.meters.estimated_diameter_max)}m`,isHazardous:e.is_potentially_hazardous_asteroid,absolute_magnitude:e.absolute_magnitude_h}));v(r)}catch(e){N(e.message)}finally{y(!1)}})()},[]);let C=async(a,t)=>{if(t.stopPropagation(),!e)return void r.push("/login");try{let e=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({asteroidId:a.id,asteroidName:a.name})});if(e.ok)alert(`Added ${a.name} to watchlist!`);else if(409===e.status)alert(`${a.name} is already in your watchlist.`);else throw Error("Failed to add")}catch(e){alert("Error adding to watchlist")}},V=(0,g.useMemo)(()=>{let e=[...w];return k&&(e=e.filter(e=>e.isHazardous)),"all"!==S&&(e=e.filter(e=>"small"===S?e.diameterVal<100:"medium"===S?e.diameterVal>=100&&e.diameterVal<500:"large"!==S||e.diameterVal>=500)),e.sort((e,a)=>"diameter"===A?a.diameterVal-e.diameterVal:"velocity"===A?a.velocityVal-e.velocityVal:"distance"===A?e.distanceVal-a.distanceVal:"date"===A?new Date(e.date).getTime()-new Date(a.date).getTime():0),e},[w,k,A]);return f?(0,a.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,a.jsx)(i.Loader2,{className:"w-8 h-8 text-cyan-glow animate-spin"})}):j?(0,a.jsxs)("div",{className:"text-alert-red p-4 border border-alert-red/20 rounded bg-alert-red/10",children:["Error loading feed: ",j]}):(0,a.jsxs)("div",{className:"space-y-4 relative",children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-2xl font-black italic text-white tracking-wider flex items-center gap-2 drop-shadow-md",children:[(0,a.jsx)("span",{className:"text-star-lord-gold",children:"///"})," NEO FEED"]}),(0,a.jsxs)("span",{className:"px-3 py-1 bg-cyan-glow/20 border border-cyan-glow text-cyan-glow text-xs font-bold rounded-full animate-pulse shadow-[0_0_10px_rgba(0,245,212,0.4)]",children:["LIVE: ",V.length," OBJECTS"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 p-4 rounded-xl bg-deep-space/60 border border-cyan-glow/30 backdrop-blur-xl shadow-[0_0_30px_rgba(0,245,212,0.15)] relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-nebula-purple via-cyan-glow to-star-lord-gold opacity-50"}),(0,a.jsxs)("button",{onClick:()=>_(!k),className:(0,p.clsx)("px-5 py-2.5 rounded-lg text-xs font-bold uppercase tracking-wider flex items-center transition-all duration-300 shadow-lg hover:scale-105 border",k?"bg-alert-red text-white border-alert-red shadow-[0_0_20px_rgba(255,0,84,0.6)]":"bg-white/5 text-starlight border-white/10 hover:bg-alert-red/20 hover:text-alert-red hover:border-alert-red"),children:[(0,a.jsx)(o,{className:"w-4 h-4 mr-2"}),k?"HAZARDOUS ONLY":"SHOW ALL"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-black/20 p-1 rounded-lg border border-white/5",children:[(0,a.jsx)("span",{className:"text-[10px] text-cyan-glow uppercase font-black px-2",children:"Size:"}),["all","small","medium","large"].map(e=>(0,a.jsx)("button",{onClick:()=>z(e),className:(0,p.clsx)("px-3 py-1.5 rounded-md text-[10px] font-black uppercase tracking-wider transition-all",S===e?"bg-nebula-purple text-white shadow-[0_0_10px_rgba(157,78,221,0.5)]":"text-void-gray hover:text-white hover:bg-white/5"),children:e},e))]}),(0,a.jsx)("div",{className:"h-8 w-px bg-white/10 mx-2 hidden sm:block"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar py-1",children:[(0,a.jsx)("span",{className:"text-xs text-cyan-glow uppercase font-black mr-2 tracking-widest drop-shadow-md",children:"Sort Data:"}),[{id:"diameter",label:"SIZE",icon:m},{id:"velocity",label:"SPEED",icon:x},{id:"distance",label:"DIST",icon:h},{id:"date",label:"DATE",icon:n}].map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>E(e.id),className:(0,p.clsx)("px-4 py-2 rounded-md text-xs font-bold transition-all border flex items-center gap-2 uppercase tracking-wide",A===e.id?"bg-cyan-glow/20 border-cyan-glow text-cyan-glow shadow-[0_0_15px_rgba(0,245,212,0.3)] bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-cyan-glow/20 to-transparent":"bg-transparent border-white/10 text-void-gray hover:text-white hover:border-white/50 hover:bg-white/5"),children:[(0,a.jsx)(t,{className:"w-3 h-3"}),e.label]},e.id)})]})]})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar pointer-events-auto",children:V.map(e=>(0,a.jsxs)(t.GlassCard,{className:"p-4 flex items-center justify-between group cursor-pointer hover:bg-white/5 transition-all border-l-4 border-l-transparent hover:border-l-cyan-glow",onClick:()=>M(e),children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:(0,p.clsx)("text-lg font-black tracking-wide transition-colors uppercase",e.isHazardous?"text-alert-red":"text-white group-hover:text-cyan-glow"),children:e.name}),e.isHazardous&&(0,a.jsx)(s,{className:"w-4 h-4 text-alert-red animate-pulse"})]}),(0,a.jsxs)("div",{className:"text-xs text-void-gray mt-1 flex space-x-4 font-mono",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m,{className:"w-3 h-3 text-nebula-purple"})," ",e.diameter]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h,{className:"w-3 h-3 text-gamora-green"})," ",e.distance]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x,{className:"w-3 h-3 text-star-lord-gold"})," ",e.velocity]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:a=>C(e,a),className:"p-2 hover:bg-cyan-glow/20 rounded-full transition-colors group/btn relative z-20",title:"Add to Watchlist",children:(0,a.jsx)(c,{className:"w-4 h-4 text-void-gray group-hover/btn:text-cyan-glow"})}),(0,a.jsx)("div",{className:(0,p.clsx)("hidden sm:block px-2 py-1 rounded text-xs font-black uppercase tracking-wider",e.isHazardous?"bg-alert-red/20 text-alert-red border border-alert-red/30":"bg-cyan-glow/20 text-cyan-glow border border-cyan-glow/30"),children:e.isHazardous?"DANGER":"SAFE"}),(0,a.jsx)(l,{className:"w-4 h-4 text-void-gray group-hover:text-white transition-transform group-hover:translate-x-1"})]})]},e.id))}),D&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:()=>M(null)}),(0,a.jsx)("div",{className:"relative z-10 w-full max-w-lg animate-in fade-in zoom-in duration-200 pointer-events-auto",children:(0,a.jsxs)(t.GlassCard,{className:"p-0 overflow-hidden border-cyan-glow/50 shadow-[0_0_50px_rgba(0,245,212,0.2)]",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/10 flex justify-between items-start bg-deep-space/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-3xl font-black text-white flex items-center gap-2 italic uppercase",children:[D.name,D.isHazardous&&(0,a.jsx)(s,{className:"w-6 h-6 text-alert-red animate-pulse"})]}),(0,a.jsxs)("p",{className:"text-sm text-cyan-glow font-mono mt-1",children:["ID: ",D.id]})]}),(0,a.jsx)("button",{onClick:()=>M(null),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-void-gray hover:text-white",children:(0,a.jsx)(d,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6 bg-gradient-to-b from-deep-space/80 to-nebula-purple/20",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-cyan-glow/30 transition-colors",children:[(0,a.jsxs)("div",{className:"text-xs text-cyan-glow uppercase tracking-wider mb-2 font-bold flex items-center gap-2",children:[(0,a.jsx)(h,{className:"w-3 h-3"})," Miss Distance"]}),(0,a.jsx)("div",{className:"text-xl font-mono text-white tracking-tight",children:D.distance})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-alert-red/30 transition-colors",children:[(0,a.jsxs)("div",{className:"text-xs text-alert-red uppercase tracking-wider mb-2 font-bold flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-3 h-3"})," Velocity"]}),(0,a.jsx)("div",{className:"text-xl font-mono text-white tracking-tight",children:D.velocity})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-star-lord-gold/30 transition-colors",children:[(0,a.jsxs)("div",{className:"text-xs text-star-lord-gold uppercase tracking-wider mb-2 font-bold flex items-center gap-2",children:[(0,a.jsx)(m,{className:"w-3 h-3"})," Diameter"]}),(0,a.jsx)("div",{className:"text-xl font-mono text-white tracking-tight",children:D.diameter})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-nebula-purple/30 transition-colors",children:[(0,a.jsxs)("div",{className:"text-xs text-nebula-purple uppercase tracking-wider mb-2 font-bold flex items-center gap-2",children:[(0,a.jsx)(c,{className:"w-3 h-3"})," Magnitude"]}),(0,a.jsx)("div",{className:"text-xl font-mono text-white tracking-tight",children:D.absolute_magnitude})]})]}),(0,a.jsxs)("div",{className:"p-5 rounded-xl bg-deep-space border border-sidebar-border shadow-inner",children:[(0,a.jsx)("div",{className:"text-xs text-void-gray uppercase tracking-wider mb-2 font-bold",children:"Close Approach Date"}),(0,a.jsx)("div",{className:"text-2xl text-white font-black italic",children:D.date})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,a.jsx)("button",{onClick:e=>C(D,e),className:"px-4 py-2 bg-gradient-to-r from-cyan-glow to-galaxy-blue text-deep-space font-black uppercase rounded hover:scale-105 transition-transform",children:"+ Add to Watchlist"}),(0,a.jsx)("a",{href:`https://ssd.jpl.nasa.gov/tools/sbdb_lookup.html#/?sstr=${D.id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 border border-white/20 hover:border-white text-white font-bold uppercase rounded transition-colors text-xs flex items-center",children:"NASA JPL Data â†’"})]})]})]})})]})]})}e.s(["NeoFeed",()=>w],72178)}]);