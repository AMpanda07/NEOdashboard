{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/digital/OneDrive/Desktop/NEOdashboard/app/visualizer/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { ArrowLeft, Loader2, AlertCircle } from 'lucide-react';\r\nimport CesiumAsteroidVis from '@/components/visualization/CesiumAsteroidVis';\r\nimport axios from 'axios';\r\n\r\nexport default function VisualizerPage() {\r\n    const [neos, setNeos] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchNeos = async () => {\r\n            try {\r\n                const res = await axios.get('/api/neos');\r\n                // NASA API structure: near_earth_objects is an object with date keys\r\n                // We need to flatten this to get a list of all asteroids\r\n                const rawData = res.data.near_earth_objects;\r\n                const flattened = Object.values(rawData).flat();\r\n                setNeos(flattened as any);\r\n            } catch (err) {\r\n                console.error(\"Failed to fetch NEOs\", err);\r\n                setError(\"Failed to load trajectory data. Please check your connection and try again.\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchNeos();\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"w-screen h-screen relative bg-black overflow-hidden flex flex-col\">\r\n            {/* Header Overlay */}\r\n            <div className=\"absolute top-0 left-0 w-full z-20 p-6 flex justify-between items-start pointer-events-none\">\r\n                <Link href=\"/\" className=\"pointer-events-auto flex items-center group\">\r\n                    <div className=\"p-3 bg-black/60 border border-white/10 rounded-full backdrop-blur-md group-hover:border-cyan-glow/50 transition-colors\">\r\n                        <ArrowLeft className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                </Link>\r\n\r\n                <div className=\"text-right pointer-events-auto\">\r\n                    <h1 className=\"text-4xl font-black text-white tracking-widest uppercase mb-1 drop-shadow-md\">\r\n                        Trajectory Engine\r\n                    </h1>\r\n                    <p className=\"text-cyan-glow font-bold text-xs uppercase tracking-[0.2em]\">\r\n                        Live Near-Earth Object Visualizer\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Legend / Status Overlay */}\r\n            <div className=\"absolute bottom-8 left-8 z-20 bg-black/70 backdrop-blur-md p-4 rounded-xl border border-white/10 text-white w-64 pointer-events-none\">\r\n                <h3 className=\"text-xs font-bold uppercase text-void-gray mb-3 tracking-wider\">System Status</h3>\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-bold\">Objects Tracked</span>\r\n                    <span className=\"text-cyan-glow font-mono\">{neos.length}</span>\r\n                </div>\r\n                <div className=\"h-px bg-white/10 my-2\" />\r\n                <div className=\"space-y-2 text-xs\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-alert-red\" />\r\n                        <span className=\"text-white/80\">Hazardous Object</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-[#a9a9a9]\" />\r\n                        <span className=\"text-white/80\">Non-Hazardous</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-[#4361ee]\" />\r\n                        <span className=\"text-white/80\">Earth</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <div className=\"flex-1 relative z-10 w-full h-full\">\r\n                {loading && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-black\">\r\n                        <Loader2 className=\"w-12 h-12 text-cyan-glow animate-spin\" />\r\n                        <p className=\"mt-4 text-white text-sm uppercase tracking-widest absolute top-1/2 pt-10\">Initializing Orbit...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {error && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-black\">\r\n                        <div className=\"text-center\">\r\n                            <AlertCircle className=\"w-12 h-12 text-alert-red mx-auto mb-4\" />\r\n                            <p className=\"text-white text-lg font-bold\">{error}</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {!loading && !error && (\r\n                    <AsteroidVis neos={neos} />\r\n                )}\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;;;AANA;;;;;AAQe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;oCAAC;YACN,MAAM;sDAAY;oBACd,IAAI;wBACA,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CAAC;wBAC5B,qEAAqE;wBACrE,yDAAyD;wBACzD,MAAM,UAAU,IAAI,IAAI,CAAC,kBAAkB;wBAC3C,MAAM,YAAY,OAAO,MAAM,CAAC,SAAS,IAAI;wBAC7C,QAAQ;oBACZ,EAAE,OAAO,KAAK;wBACV,QAAQ,KAAK,CAAC,wBAAwB;wBACtC,SAAS;oBACb,SAAU;wBACN,WAAW;oBACf;gBACJ;;YAEA;QACJ;mCAAG,EAAE;IAEL,qBACI,6LAAC;QAAK,WAAU;;0BAEZ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,0KAAI;wBAAC,MAAK;wBAAI,WAAU;kCACrB,cAAA,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,gOAAS;gCAAC,WAAU;;;;;;;;;;;;;;;;kCAI7B,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAA+E;;;;;;0CAG7F,6LAAC;gCAAE,WAAU;0CAA8D;;;;;;;;;;;;;;;;;;0BAOnF,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAiE;;;;;;kCAC/E,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAoB;;;;;;0CACpC,6LAAC;gCAAK,WAAU;0CAA4B,KAAK,MAAM;;;;;;;;;;;;kCAE3D,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;;;;;;;0CAEpC,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;;;;;;;0CAEpC,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;;;;;;;;;;;;;;;;;;;0BAM5C,6LAAC;gBAAI,WAAU;;oBACV,yBACG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,+NAAO;gCAAC,WAAU;;;;;;0CACnB,6LAAC;gCAAE,WAAU;0CAA2E;;;;;;;;;;;;oBAI/F,uBACG,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,sOAAW;oCAAC,WAAU;;;;;;8CACvB,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;;;;;;oBAKxD,CAAC,WAAW,CAAC,uBACV,6LAAC;wBAAY,MAAM;;;;;;;;;;;;;;;;;;AAKvC;GA7FwB;KAAA"}}]
}